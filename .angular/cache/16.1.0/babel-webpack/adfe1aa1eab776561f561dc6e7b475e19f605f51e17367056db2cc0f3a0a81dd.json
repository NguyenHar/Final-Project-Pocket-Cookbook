{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@abacritt/angularx-social-login\";\nimport * as i3 from \"./user-favorites.service\";\nimport * as i4 from \"./meal.service\";\nimport * as i5 from \"@angular/common\";\nfunction AppComponent_a_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 9);\n    i0.ɵɵtext(1, \"Favorites\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_a_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"a\", 10);\n    i0.ɵɵtext(1, \"User Info Page\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AppComponent_asl_google_signin_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"asl-google-signin-button\", 11);\n  }\n}\nfunction AppComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function AppComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.userLogout());\n    });\n    i0.ɵɵtext(1, \"Sign Out\");\n    i0.ɵɵelementEnd();\n  }\n}\nclass AppComponent {\n  constructor(router, authService, userService, mealService) {\n    this.router = router;\n    this.authService = authService;\n    this.userService = userService;\n    this.mealService = mealService;\n    this.title = 'PocketCookbook';\n    // Google login\n    this.user = {};\n    this.loggedIn = false;\n    this.called = true;\n  }\n  ngOnInit() {\n    // Google login\n    this.authService.authState.subscribe(user => {\n      this.user = user;\n      this.userService.user = user;\n      this.loggedIn = user != null;\n      this.userService.loggedIn = user != null;\n      this.redirectTo(\"home\");\n    });\n    this.redirectTo(\"\");\n  }\n  // Refreshes the page\n  redirectTo(uri) {\n    this.router.navigateByUrl('/', {\n      skipLocationChange: true\n    }).then(() => this.router.navigate([uri]));\n  }\n  // Logs the user out\n  userLogout() {\n    this.authService.signOut();\n    this.user = {};\n    this.loggedIn = false;\n    this.userService.loggedIn = false;\n    this.redirectTo(\"home\");\n  }\n}\nAppComponent.ɵfac = function AppComponent_Factory(t) {\n  return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.SocialAuthService), i0.ɵɵdirectiveInject(i3.UserFavoritesService), i0.ɵɵdirectiveInject(i4.MealService));\n};\nAppComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AppComponent,\n  selectors: [[\"app-root\"]],\n  decls: 12,\n  vars: 4,\n  consts: [[1, \"background\", \"center\"], [1, \"topnav\"], [\"routerLink\", \"\", 1, \"active\"], [\"routerLink\", \"favorites\", 4, \"ngIf\"], [\"routerLink\", \"shopping-list\"], [\"routerLink\", \"login\", 4, \"ngIf\"], [2, \"justify-content\", \"left\", \"margin-top\", \"auto\", \"margin-bottom\", \"auto\"], [\"type\", \"standard\", \"size\", \"large\", 4, \"ngIf\"], [3, \"click\", 4, \"ngIf\"], [\"routerLink\", \"favorites\"], [\"routerLink\", \"login\"], [\"type\", \"standard\", \"size\", \"large\"], [3, \"click\"]],\n  template: function AppComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"a\", 2);\n      i0.ɵɵtext(3, \"Home Page\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(4, AppComponent_a_4_Template, 2, 0, \"a\", 3);\n      i0.ɵɵelementStart(5, \"a\", 4);\n      i0.ɵɵtext(6, \"Shopping List\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(7, AppComponent_a_7_Template, 2, 0, \"a\", 5);\n      i0.ɵɵelementStart(8, \"div\", 6);\n      i0.ɵɵtemplate(9, AppComponent_asl_google_signin_button_9_Template, 1, 0, \"asl-google-signin-button\", 7);\n      i0.ɵɵtemplate(10, AppComponent_button_10_Template, 2, 0, \"button\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(11, \"router-outlet\");\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.loggedIn);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.loggedIn);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loggedIn);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loggedIn);\n    }\n  },\n  dependencies: [i5.NgIf, i1.RouterOutlet, i1.RouterLink, i2.GoogleSigninButtonDirective],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { AppComponent };","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","AppComponent_button_10_Template_button_click_0_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","userLogout","AppComponent","constructor","router","authService","userService","mealService","title","user","loggedIn","called","ngOnInit","authState","subscribe","redirectTo","uri","navigateByUrl","skipLocationChange","then","navigate","signOut","ɵɵdirectiveInject","i1","Router","i2","SocialAuthService","i3","UserFavoritesService","i4","MealService","selectors","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵtemplate","AppComponent_a_4_Template","AppComponent_a_7_Template","AppComponent_asl_google_signin_button_9_Template","AppComponent_button_10_Template","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\harry\\Desktop\\Grand Circus\\Final Project - Pocket Cookbook\\Pocket_Cookbook_FrontEnd\\src\\app\\app.component.ts","C:\\Users\\harry\\Desktop\\Grand Circus\\Final Project - Pocket Cookbook\\Pocket_Cookbook_FrontEnd\\src\\app\\app.component.html"],"sourcesContent":["import { SocialAuthService, SocialUser } from '@abacritt/angularx-social-login';\r\nimport { Component } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { UserFavoritesService } from './user-favorites.service';\r\nimport { MealService } from './meal.service';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'PocketCookbook';\r\n  // Google login\r\n  user: SocialUser = {} as SocialUser;\r\n  loggedIn: boolean = false;\r\n  called:boolean = true;\r\n\r\n\r\n  constructor(private router: Router, private authService:SocialAuthService, \r\n    private userService:UserFavoritesService, private mealService:MealService) {\r\n  }\r\n  ngOnInit() {\r\n    // Google login\r\n    this.authService.authState.subscribe((user) => {\r\n      this.user = user;\r\n      this.userService.user = user;\r\n      this.loggedIn = (user != null);\r\n      this.userService.loggedIn = (user != null);\r\n      this.redirectTo(\"home\");\r\n    });\r\n    this.redirectTo(\"\");\r\n  }\r\n\r\n  // Refreshes the page\r\n  redirectTo(uri: string):void {\r\n    this.router.navigateByUrl('/', { skipLocationChange: true }).then(() =>\r\n    this.router.navigate([uri]));\r\n  }\r\n\r\n  // Logs the user out\r\n  userLogout():void {\r\n    this.authService.signOut();\r\n    this.user = {} as SocialUser;\r\n    \r\n    this.loggedIn = false;\r\n    this.userService.loggedIn = false;\r\n    this.redirectTo(\"home\");\r\n  }\r\n}","<div class=\"background center\">\r\n    <div class=\"topnav\">\r\n        <a class=\"active\" routerLink=\"\">Home Page</a>\r\n        <a routerLink=\"favorites\" *ngIf=\"loggedIn\">Favorites</a>\r\n        <a routerLink=\"shopping-list\">Shopping List</a>\r\n        <a routerLink=\"login\" *ngIf=\"loggedIn\">User Info Page</a>\r\n\r\n        <div style=\"justify-content: left; margin-top: auto; margin-bottom: auto\">\r\n            <asl-google-signin-button type='standard' size='large' *ngIf=\"!loggedIn\"></asl-google-signin-button>\r\n            <button (click)=\"userLogout()\" *ngIf=\"loggedIn\">Sign Out</button>\r\n        </div>\r\n    </div>\r\n\r\n    <router-outlet></router-outlet>\r\n</div>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}